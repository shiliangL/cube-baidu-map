(function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],p=0,u=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={index:0},a=[];function r(e){return s.p+"static/js/"+({}[e]||e)+"."+{"chunk-07863e62":"ab93b162","chunk-1f0a642a":"4fee3fe0","chunk-2c667446":"72a47858"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=i[e]=[t,o]}));t.push(n[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,n[1](c)}i[e]=void 0}};var p=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0620":function(e,t,n){"use strict";var o=n("9928"),i=n.n(o);i.a},"0ef8":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"body,html{margin:0;padding:0;font-size:12px;line-height:1.5;height:100%;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;font-weight:400;color:#5d5d5d;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent}body.is-component,html.is-component{overflow:hidden}#app{height:100%;font-size:14px}#app.is-component{overflow-y:hidden}#app.is-component .main-cnt{padding:0;margin-top:0;height:100%;min-height:auto}#app.is-component .headerWrapper{position:fixed;width:100%;left:0;top:0;z-index:1500}#app.is-component .headerWrapper .container{padding:0}a{color:#409eff;text-decoration:none}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;color:inherit}.hljs{line-height:1.8;font-size:12px;padding:20px;border-radius:4px;-webkit-font-smoothing:auto}.main-cnt{margin-top:-80px;padding:80px 0 340px;box-sizing:border-box;min-height:100%}.container,.page-container{width:1140px;padding:0;margin:0 auto}.page-container{padding-top:55px}.page-container ul{margin:0;padding-left:10px}.page-container h2{font-size:28px;color:#1f2d3d;margin:0}.page-container h3{font-size:22px}.page-container h2,.page-container h3,.page-container h4,.page-container h5{font-weight:400;color:#1f2f3d}.page-container h2:hover a,.page-container h3:hover a,.page-container h4:hover a,.page-container h5:hover a{opacity:.4}.page-container h2 a,.page-container h3 a,.page-container h4 a,.page-container h5 a{float:left;margin-left:-20px;opacity:0;cursor:pointer}.page-container h2 a:hover,.page-container h3 a:hover,.page-container h4 a:hover,.page-container h5 a:hover{opacity:.4}.page-container p{font-size:14px;color:#5e6d82;line-height:1.5em}.page-container .tip{padding:8px 16px;background-color:#ecf8ff;border-radius:4px;border-left:5px solid #50bfff;margin:20px 0}.page-container .tip code{background-color:hsla(0,0%,100%,.7);color:#445368}.page-container .warning{padding:8px 16px;background-color:#fff6f7;border-radius:4px;border-left:5px solid #fe6c6f;margin:20px 0}.page-container .warning code{background-color:hsla(0,0%,100%,.7);color:#445368}.demo{margin:20px 0}.element-doc{padding:10px 20px;margin:0 auto}.element-doc table{width:100%;border-collapse:collapse;background-color:#fff;font-size:14px}.element-doc table td{border-bottom:1px solid #dcdfe6;padding:8px 0;max-width:250px}@media (max-width:1140px){.container,.page-container{width:100%}}@media (max-width:768px){.container,.page-container{padding:0 20px}#app.is-component .headerWrapper .container{padding:0 12px}}.cube-chart-list{height:210px;width:100%}.cube-chart-list .title{text-align:center}.pie-chart{height:290px;width:100%}.cube-map-draw-warp{height:32.5rem;width:100%}",""]),e.exports=t},"129c":function(e){e.exports=JSON.parse('{"component-list":[{"name":"cube","groups":[{"groupName":"","list":[{"path":"/readme","title":"写在前面"},{"path":"/example","title":"开发样例","views":true},{"path":"/basic","title":"基本使用"}]}]}]}')},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("9f21"),n("8e1f");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=(n("4160"),n("159b"),n("1487")),s=n.n(r),l={name:"App",mounted:function(){this.$nextTick((function(){var e=document.querySelectorAll("pre code:not(.hljs)");Array.prototype.forEach.call(e,s.a.highlightBlock)}))}},c=l,p=n("2877"),d=Object(p["a"])(c,i,a,!1,null,null,null),u=d.exports,h=(n("99af"),n("d81d"),n("d3b7"),n("b85c")),g=n("8c4f"),f=n("129c");o["a"].use(g["a"]);var m=function(e){return function(t){return n.e("chunk-07863e62").then(function(){return t(n("dfe0")("./".concat(e,".md")))}.bind(null,n)).catch(n.oe)}},y=function(e){return function(t){return n.e("chunk-2c667446").then(function(){return t(n("feca")("./".concat(e,".vue")))}.bind(null,n)).catch(n.oe)}},v=[];f["component-list"].forEach((function(e){var t,n=Object(h["a"])(e.groups);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.list.map((function(e){var t=e.path.substr(1);v.push({path:t,component:e.views?y(t):m(t)})}))}}catch(i){n.e(i)}finally{n.f()}}));var b=[{path:"/",redirect:"/readme",component:function(){return n.e("chunk-1f0a642a").then(n.bind(null,"c1f7"))},children:[].concat(v)}],w=new g["a"]({routes:b});w.afterEach((function(e){setTimeout((function(){o["a"].nextTick((function(){var e=document.querySelectorAll("pre code:not(.hljs)");Array.prototype.forEach.call(e,s.a.highlightBlock)}))}),0)}));var _=w,x=n("2f62");o["a"].use(x["a"]);var k=new x["a"].Store({state:{},mutations:{},actions:{},modules:{}}),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-block",class:["demo-zh-CN",{hover:e.hovering}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[n("div",{staticClass:"source"},[e._t("source")],2),n("div",{ref:"meta",staticClass:"meta"},[e.$slots.default?n("div",{staticClass:"description"},[e._t("default")],2):e._e(),n("transition",{attrs:{name:"slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"highlight"},[e._t("highlight")],2)])],1),n("div",{ref:"control",staticClass:"demo-block-control",class:{"is-fixed":e.fixedControl},on:{click:function(t){e.isExpanded=!e.isExpanded}}},[n("transition",{attrs:{name:"arrow-slide"}},[n("i",{class:[e.iconClass,{hovering:e.hovering}]})]),n("transition",{attrs:{name:"text-slide"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.hovering,expression:"hovering"}]},[e._v(e._s(e.controlText))])])],1)])},O=[],C={data:function(){return{hovering:!1,isExpanded:!1,fixedControl:!1,scrollParent:null}},computed:{iconClass:function(){return this.isExpanded?"el-icon-caret-top":"el-icon-caret-bottom"},controlText:function(){return this.isExpanded?"收起代码":"展开代码"}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$slots.highlight;if(t&&t[0]){var n=t[0];"pre"===n.tag&&n.children&&n.children[0]&&(n=n.children[0],"code"===n.tag&&n.children[0].text)}}))},beforeDestroy:function(){},methods:{}},E=C,B=(n("5e28"),Object(p["a"])(E,M,O,!1,null,null,null)),T=B.exports,P=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cube-draw-map"},[n("baidu-map",{staticClass:"bm-view",attrs:{"map-click":!1,"scroll-wheel-zoom":!0,center:e.defaultConfig.mapCenter,ak:e.defaultConfig.akey},on:{ready:e.ready}},[n("bm-control",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}},[e.map?n("map-drawing-tools",e._b({attrs:{drawType:e.drawTypeList},on:{draw:e.draw}},"map-drawing-tools",e.$attrs,!1)):e._e()],1),e.map?n("bm-control",[n("bm-control",{key:"0b31ab34-33c1-4d49-bd04-eced3fd4f999"},[e._l(e.markers,(function(e,t){return[n("bm-control",{key:"polygons_bm_marker_Item"+t},[n("bm-marker",{key:t+"line_list_bm_marker_one",attrs:{position:e.point}})],1)]}))],2),n("bm-control",{key:"f1a7c4d6-de54-42f6-b784-ee802466d55d"},[e._l(e.polylines,(function(t,o){return[n("bm-control",{key:"polygons_bm_polyline_Item"+o},[n("bm-polyline",{key:o+"polygons_bm_polyline_one",attrs:{path:t.point,editing:t.editing,"stroke-color":t.strokeColor||e.defaultConfig.styleOptions.strokeColor,"fill-color":t.fillColor||e.defaultConfig.styleOptions.fillColor,"fill-opacity":t.fillOpacity||e.defaultConfig.styleOptions.fillOpacity,"stroke-opacity":t.strokeOpacity||e.defaultConfig.styleOptions.strokeOpacity,"stroke-style":t.strokeStyle||e.defaultConfig.styleOptions.strokeStyle,"stroke-weight":t.strokeWeight||e.defaultConfig.styleOptions.strokeWeight},on:{click:function(n){return e.click(n,t)},rightclick:function(n){return e.rightclick(n,t,o)},lineupdate:function(n){return e.polygonUpdate(n,t,o,"polylines")}}}),t.centerPoint?n("bm-control",[e._t("overlay-center",null,{row:t})],2):e._e()],1)]}))],2),n("bm-control",{key:"7ac63c28-2833-41e0-bfd8-6dc33abcc7c5"},[e._l(e.polygons,(function(t,o){return[n("bm-control",{key:"polygons_bm_polygon_Item"+o},[n("bm-polygon",{key:o+"polygons_bm_polygon_one",attrs:{path:t.point,editing:t.editing,"stroke-color":t.strokeColor||e.defaultConfig.styleOptions.strokeColor,"fill-color":t.fillColor||e.defaultConfig.styleOptions.fillColor,"fill-opacity":t.fillOpacity||e.defaultConfig.styleOptions.fillOpacity,"stroke-opacity":t.strokeOpacity||e.defaultConfig.styleOptions.strokeOpacity,"stroke-style":t.strokeStyle||e.defaultConfig.styleOptions.strokeStyle,"stroke-weight":t.strokeWeight||e.defaultConfig.styleOptions.strokeWeight},on:{click:function(n){return e.click(n,t)},rightclick:function(n){return e.rightclick(n,t,o)},lineupdate:function(n){return e.polygonUpdate(n,t,o,"polygons")}}}),t.centerPoint?n("bm-control",[e._t("overlay-center",null,{row:t})],2):e._e()],1)]}))],2),n("bm-boundary",{ref:"boundary",attrs:{name:e.defaultConfig.mapCenter,strokeWeight:2,strokeColor:"#000",fillColor:""}})],1):e._e(),n("transition",{attrs:{name:"el-zoom-in-top"}},[e.visible?n("ul",{directives:[{name:"clickOutside",rawName:"v-clickOutside",value:e.clickOutside,expression:"clickOutside"}],staticClass:"contextmenu",style:{left:e.contextmenu.left+"px",top:e.contextmenu.top+"px"}},[n("li",{on:{click:function(t){return t.stopPropagation(),e.handlerContextmenu(1)}}},[e._v(" 开启编辑 ")]),n("li",{on:{click:function(t){return t.stopPropagation(),e.handlerContextmenu(2)}}},[e._v(" 完成编辑 ")]),n("li",{on:{click:function(t){return t.stopPropagation(),e.handlerContextmenu(0)}}},[e._v(" 删除 ")])]):e._e()])],1)],1)}),L=[],j=(n("caad"),n("a434"),n("dca8"),n("fec8")),D=(n("c975"),n("a15b"),n("b680"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("18a5"),n("53ca")),S=window.BMapLib=S||{},z="marker",A="polyline",N="circle",F="rectangle",$="polygon";function I(){var e=e||{guid:"$BAIDU$"};(function(){window[e.guid]={},e.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.lang=e.lang||{},e.lang.guid=function(){return"TANGRAM__"+(window[e.guid]._counter++).toString(36)},window[e.guid]._counter=window[e.guid]._counter||1,window[e.guid]._instances=window[e.guid]._instances||{},e.lang.Class=function(t){this.guid=t||e.lang.guid(),window[e.guid]._instances[this.guid]=this},window[e.guid]._instances=window[e.guid]._instances||{},e.lang.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.lang.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},e.lang.Class.prototype.dispose=function(){for(var t in delete window[e.guid]._instances[this.guid],this)e.lang.isFunction(this[t])||delete this[t];this.disposed=!0},e.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},e.lang.Class.prototype.addEventListener=function(t,n,o){if(e.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var i,a=this.__listeners;if("string"===typeof o&&o){if(/[^\w\-]/.test(o))throw"nonstandard key:"+o;n.hashCode=o,i=o}0!==t.indexOf("on")&&(t="on"+t),"object"!==Object(D["a"])(a[t])&&(a[t]={}),i=i||e.lang.guid(),n.hashCode=i,a[t][i]=n}},e.lang.Class.prototype.removeEventListener=function(t,n){if(e.lang.isFunction(n))n=n.hashCode;else if(!e.lang.isString(n))return;!this.__listeners&&(this.__listeners={}),0!==t.indexOf("on")&&(t="on"+t);var o=this.__listeners;o[t]&&o[t][n]&&delete o[t][n]},e.lang.Class.prototype.dispatchEvent=function(t,n){for(var o in e.lang.isString(t)&&(t=new e.lang.Event(t)),!this.__listeners&&(this.__listeners={}),n=n||{},n)t[o]=n[o];var i=this.__listeners,a=t.type;if(0!==a.indexOf("on")&&(a="on"+a),e.lang.isFunction(this[a])&&this[a].apply(this,arguments),"object"===Object(D["a"])(i[a]))for(o in i[a])i[a][o].apply(this,arguments);return t.returnValue},e.lang.inherits=function(e,t,n){var o,i,a=e.prototype,r=new Function;for(o in r.prototype=t.prototype,i=e.prototype=new r,a)i[o]=a[o];e.prototype.constructor=e,e.superClass=t.prototype,"string"===typeof n&&(i._className=n)},e.dom=e.dom||{},e._g=e.dom._g=function(t){return e.lang.isString(t)?document.getElementById(t):t},e.g=e.dom.g=function(e){return"string"===typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1===e.nodeType||9===e.nodeType)?e:null},e.insertHTML=e.dom.insertHTML=function(t,n,o){var i,a;return t=e.dom.g(t),t.insertAdjacentHTML?t.insertAdjacentHTML(n,o):(i=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"===n||"BEFOREEND"===n?(i.selectNodeContents(t),i.collapse("AFTERBEGIN"===n)):(a="BEFOREBEGIN"===n,i[a?"setStartBefore":"setEndAfter"](t),i.collapse(a)),i.insertNode(i.createContextualFragment(o))),t},e.ac=e.dom.addClass=function(t,n){t=e.dom.g(t);for(var o=n.split(/\s+/),i=t.className,a=" "+i+" ",r=0,s=o.length;r<s;r++)a.indexOf(" "+o[r]+" ")<0&&(i+=(i?" ":"")+o[r]);return t.className=i,t},e.event=e.event||{},e.event._listeners=e.event._listeners||[],e.on=e.event.on=function(t,n,o){n=n.replace(/^on/i,""),t=e._g(t);var i,a=function(e){o.call(t,e)},r=e.event._listeners,s=e.event._eventFilter,l=n;return n=n.toLowerCase(),s&&s[n]&&(i=s[n](t,n,a),l=i.type,a=i.listener),t.addEventListener?t.addEventListener(l,a,!1):t.attachEvent&&t.attachEvent("on"+l,a),r[r.length]=[t,n,o,a,l],t},e.un=e.event.un=function(t,n,o){t=e._g(t),n=n.replace(/^on/i,"").toLowerCase();var i,a,r,s=e.event._listeners,l=s.length,c=!o;while(l--)i=s[l],i[1]!==n||i[0]!==t||!c&&i[2]!==o||(a=i[4],r=i[3],t.removeEventListener?t.removeEventListener(a,r,!1):t.detachEvent&&t.detachEvent("on"+a,r),s.splice(l,1));return t},e.getEvent=e.event.getEvent=function(e){return window.event||e},e.getTarget=e.event.getTarget=function(t){t=e.getEvent(t);return t.target||t.srcElement},e.preventDefault=e.event.preventDefault=function(t){t=e.getEvent(t);t.preventDefault?t.preventDefault():t.returnValue=!1},e.stopBubble=e.event.stopBubble=function(t){t=e.getEvent(t),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}})();var t=S.DrawingManager=function(e,t){e&&(i.push(this),t=t||{},this._initialize(e,t))};function n(){this._enableEdgeMove=!1}function o(e,t){this.drawingManager=e,t=this.drawingToolOptions=t||{},this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10),this.defaultDrawingModes=[z,N,A,$,F],t.drawingModes?this.drawingModes=t.drawingModes:this.drawingModes=this.defaultDrawingModes,t.anchor&&this.setAnchor(t.anchor),t.offset&&this.setOffset(t.offset)}e.lang.inherits(t,e.lang.Class,"DrawingManager"),t.prototype.open=function(){if(!0===this._isOpen)return!0;a(this),this._open()},t.prototype.close=function(){if(!1===this._isOpen)return!0;this._close()},t.prototype.setDrawingMode=function(e){this._drawingType!==e&&(a(this),this._setDrawingMode(e))},t.prototype.getDrawingMode=function(){return this._drawingType},t.prototype.enableCalculate=function(){this._enableCalculate=!0,this._addGeoUtilsLibrary()},t.prototype.disableCalculate=function(){this._enableCalculate=!1},t.prototype._initialize=function(e,t){if(this._map=e,this._opts=t,this._drawingType=t.drawingMode||z,t.enableDrawingTool){var n=new o(this,t.drawingToolOptions);this._drawingTool=n,e.addControl(n)}!0===t.enableCalculate?this.enableCalculate():this.disableCalculate(),this._isOpen=!(!0!==t.isOpen),this._isOpen&&this._open(),this.markerOptions=t.markerOptions||{},this.circleOptions=t.circleOptions||{},this.polylineOptions=t.polylineOptions||{},this.polygonOptions=t.polygonOptions||{},this.rectangleOptions=t.rectangleOptions||{}},t.prototype._open=function(){this._isOpen=!0,this._mask||(this._mask=new n),this._map.addOverlay(this._mask),this._setDrawingMode(this._drawingType)},t.prototype._setDrawingMode=function(e){if(this._drawingType=e,this._isOpen)switch(this._mask.__listeners={},e){case z:this._bindMarker();break;case N:this._bindCircle();break;case A:case $:this._bindPolylineOrPolygon();break;case F:this._bindRectangle();break}this._drawingTool&&this._isOpen&&this._drawingTool.setStyleByDrawingMode(e)},t.prototype._close=function(){this._isOpen=!1,this._mask&&this._map.removeOverlay(this._mask),this._drawingTool&&this._drawingTool.setStyleByDrawingMode("hander")},t.prototype._bindMarker=function(){var e=this,t=this._map,n=this._mask,o=function(n){var o=new BMap.Marker(n.point,e.markerOptions);t.addOverlay(o),e._dispatchOverlayComplete(o)};n.addEventListener("click",o)},t.prototype._bindCircle=function(){var t=this,n=this._map,o=this._mask,i=null,a=null,r=function(r){a=r.point,i=new BMap.Circle(a,0,t.circleOptions),n.addOverlay(i),o.enableEdgeMove(),o.addEventListener("mousemove",s),e.on(document,"mouseup",l)},s=function(e){i.setRadius(t._map.getDistance(a,e.point))},l=function n(r){var l=t._calculate(i,r.point);t._dispatchOverlayComplete(i,l),a=null,o.disableEdgeMove(),o.removeEventListener("mousemove",s),e.un(document,"mouseup",n)},c=function(t){e.preventDefault(t),e.stopBubble(t),null==a&&r(t)};o.addEventListener("mousedown",c)},t.prototype._bindPolylineOrPolygon=function(){var t=this,n=this._map,o=this._mask,i=[],a=null,r=null,s=!1,l=function(e){i.push(e.point),a=i.concat(i[i.length-1]),1===i.length?(t._drawingType===A?r=new BMap.Polyline(a,t.polylineOptions):t._drawingType===$&&(r=new BMap.Polygon(a,t.polygonOptions)),n.addOverlay(r)):r.setPath(a),s||(s=!0,o.enableEdgeMove(),o.addEventListener("mousemove",c),o.addEventListener("dblclick",p))},c=function(e){r&&r.setPositionAt(a.length-1,e.point)},p=function n(l){e.stopBubble(l),s=!1,o.disableEdgeMove(),o.removeEventListener("mousemove",c),o.removeEventListener("dblclick",n),r.setPath(i);var p=t._calculate(r,i.pop());t._dispatchOverlayComplete(r,p),i.length=0,a.length=0};o.addEventListener("click",l),o.addEventListener("dblclick",(function(t){e.stopBubble(t)}))},t.prototype._bindRectangle=function(){var t=this,n=this._map,o=this._mask,i=null,a=null,r=function(r){e.stopBubble(r),e.preventDefault(r),a=r.point;var c=a;i=new BMap.Polygon(t._getRectanglePoint(a,c),t.rectangleOptions),n.addOverlay(i),o.enableEdgeMove(),o.addEventListener("mousemove",s),e.on(document,"mouseup",l)},s=function(e){i.setPath(t._getRectanglePoint(a,e.point))},l=function n(r){var l=t._calculate(i,i.getPath()[2]);t._dispatchOverlayComplete(i,l),a=null,o.disableEdgeMove(),o.removeEventListener("mousemove",s),e.un(document,"mouseup",n)};o.addEventListener("mousedown",r)},t.prototype._calculate=function(e,t){var n={data:0,label:null};if(this._enableCalculate&&S.GeoUtils){var o=e.toString();switch(o){case"[object Polyline]":n.data=S.GeoUtils.getPolylineDistance(e);break;case"[object Polygon]":n.data=S.GeoUtils.getPolygonArea(e);break;case"[object Circle]":var i=e.getRadius();n.data=Math.PI*i*i;break}!n.data||n.data<0?n.data=0:n.data=n.data.toFixed(2)}return n},t.prototype._addGeoUtilsLibrary=function(){if(!S.GeoUtils){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","http://api.map.baidu.com/library/GeoUtils/1.2/src/GeoUtils_min.js"),document.body.appendChild(e)}},t.prototype._addLabel=function(e,t){var n=new BMap.Label(t,{position:e});return this._map.addOverlay(n),n},t.prototype._getRectanglePoint=function(e,t){return[new BMap.Point(e.lng,e.lat),new BMap.Point(t.lng,e.lat),new BMap.Point(t.lng,t.lat),new BMap.Point(e.lng,t.lat)]},t.prototype._dispatchOverlayComplete=function(e,t){var n={overlay:e,drawingMode:this._drawingType,calculate:t&&t.data?t.data:null,label:t&&t.label?t.label:null};this.dispatchEvent(this._drawingType+"complete",e),this.dispatchEvent("overlaycomplete",n)},n.prototype=new BMap.Overlay,n.prototype.dispatchEvent=e.lang.Class.prototype.dispatchEvent,n.prototype.addEventListener=e.lang.Class.prototype.addEventListener,n.prototype.removeEventListener=e.lang.Class.prototype.removeEventListener,n.prototype.initialize=function(e){var t=this;this._map=e;var n=this.container=document.createElement("div"),o=this._map.getSize();return n.style.cssText="position:absolute;background:url(about:blank);cursor:crosshair;width:"+o.width+"px;height:"+o.height+"px",this._map.addEventListener("resize",(function(e){t._adjustSize(e.size)})),this._map.getPanes().floatPane.appendChild(n),this._bind(),n},n.prototype.draw=function(){var e=this._map,t=e.pixelToPoint(new BMap.Pixel(0,0)),n=e.pointToOverlayPixel(t);this.container.style.left=n.x+"px",this.container.style.top=n.y+"px"},n.prototype.enableEdgeMove=function(){this._enableEdgeMove=!0},n.prototype.disableEdgeMove=function(){clearInterval(this._edgeMoveTimer),this._enableEdgeMove=!1},n.prototype._bind=function(){var t=this,n=(this._map,this.container),o=null,i=null,a=function(e){return{x:e.clientX,y:e.clientY}},r=function(n){var r=n.type,s=(n=e.getEvent(n),t.getDrawPoint(n)),l=function(e){n.point=s,t.dispatchEvent(n)};"mousedown"===r&&(o=a(n));var c=a(n);"click"===r?Math.abs(c.x-o.x)<5&&Math.abs(c.y-o.y)<5&&(i&&Math.abs(c.x-i.x)<5&&Math.abs(c.y-i.y)<5?i=null:(l("click"),i=a(n))):l(r)},s=["click","mousedown","mousemove","mouseup","dblclick"],l=s.length;while(l--)e.on(n,s[l],r);e.on(n,"mousemove",(function(e){t._enableEdgeMove&&t.mousemoveAction(e)}))},n.prototype.mousemoveAction=function(e){function t(e){var t=e.clientX,n=e.clientY;return e.changedTouches&&(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY),new BMap.Pixel(t,n)}var n=this._map,o=this,i=n.pointToPixel(this.getDrawPoint(e)),a=t(e),r=a.x-i.x,s=a.y-i.y;i=new BMap.Pixel(a.x-r,a.y-s),this._draggingMovePixel=i,this._panByX=this._panByY=0,i.x<=20||i.x>=n.width-20||i.y<=50||i.y>=n.height-10?(i.x<=20?this._panByX=8:i.x>=n.width-20&&(this._panByX=-8),i.y<=50?this._panByY=8:i.y>=n.height-10&&(this._panByY=-8),this._edgeMoveTimer||(this._edgeMoveTimer=setInterval((function(){n.panBy(o._panByX,o._panByY,{noAnimation:!0})}),30))):this._edgeMoveTimer&&(clearInterval(this._edgeMoveTimer),this._edgeMoveTimer=null)},n.prototype._adjustSize=function(e){this.container.style.width=e.width+"px",this.container.style.height=e.height+"px"},n.prototype.getDrawPoint=function(t){var n=this._map,o=e.getTarget(t),i=t.offsetX||t.layerX||0,a=t.offsetY||t.layerY||0;1!==o.nodeType&&(o=o.parentNode);while(o&&o!==n.getContainer())0===o.clientWidth&&0===o.clientHeight&&o.offsetParent&&"TD"===o.offsetParent.nodeName||(i+=o.offsetLeft||0,a+=o.offsetTop||0),o=o.offsetParent;var r=new BMap.Pixel(i,a),s=n.pixelToPoint(r);return s},o.prototype=new BMap.Control,o.prototype.initialize=function(e){var t=this.container=document.createElement("div");t.className="BMapLib_Drawing";var n=this.panel=document.createElement("div");return n.className="BMapLib_Drawing_panel",this.drawingToolOptions&&this.drawingToolOptions.scale&&this._setScale(this.drawingToolOptions.scale),t.appendChild(n),n.innerHTML=this._generalHtml(),this._bind(n),e.getContainer().appendChild(t),t},o.prototype._generalHtml=function(e){var t={hander:"拖动地图"};t[z]="画点",t[N]="画圆",t[A]="画折线",t[$]="画多边形",t[F]="画矩形";var n=function(e,n){return'<a class="'+e+'" drawingType="'+n+'" href="javascript:void(0)" title="'+t[n]+'" onfocus="this.blur()"></a>'},o=[];o.push(n("BMapLib_box BMapLib_hander","hander"));for(var i=0,a=this.drawingModes.length;i<a;i++){var r="BMapLib_box BMapLib_"+this.drawingModes[i];i===a-1&&(r+=" BMapLib_last"),o.push(n(r,this.drawingModes[i]))}return o.join("")},o.prototype._setScale=function(e){var t=390,n=50,o=-parseInt((t-t*e)/2,10),i=-parseInt((n-n*e)/2,10);this.container.style.cssText=["-moz-transform: scale("+e+");","-o-transform: scale("+e+");","-webkit-transform: scale("+e+");","transform: scale("+e+");","margin-left:"+o+"px;","margin-top:"+i+"px;","*margin-left:0px;","*margin-top:0px;","margin-left:0px\\0;","margin-top:0px\\0;","filter: progid:DXImageTransform.Microsoft.Matrix(","M11="+e+",","M12=0,","M21=0,","M22="+e+",","SizingMethod='auto expand');"].join("")},o.prototype._bind=function(t){var n=this;e.on(this.panel,"click",(function(t){var o=e.getTarget(t),i=o.getAttribute("drawingType");n.setStyleByDrawingMode(i),n._bindEventByDraingMode(i)}))},o.prototype.setStyleByDrawingMode=function(e){if(e)for(var t=this.panel.getElementsByTagName("a"),n=0,o=t.length;n<o;n++){var i=t[n];if(i.getAttribute("drawingType")===e){var a="BMapLib_box BMapLib_"+e+"_hover";n===o-1&&(a+=" BMapLib_last"),i.className=a}else i.className=i.className.replace(/_hover/,"")}},o.prototype._bindEventByDraingMode=function(e){var t=this.drawingManager;"hander"===e?t.close():(t.setDrawingMode(e),t.open())};var i=[];function a(e){var t=i.length;while(t--)i[t]!==e&&i[t].close()}return S}var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-drawing-tools"},[n("a",{on:{click:function(t){return t.stopPropagation(),e.draw(0)}}},[n("full-screen",{attrs:{theme:"outline",size:"14",fill:e.iconColor}}),e._v(" 视角 ")],1),e.preview?e._e():[n("a",{staticClass:"stop",on:{click:function(t){return t.stopPropagation(),e.draw(1)}}},[n("click-tap",{attrs:{theme:"outline",size:"14",fill:"#E6A23C"}}),e._v(" 停止绘制 ")],1),e._l(e.drawType,(function(t,o){return n("a",{key:o,style:{color:t.iconColor||""},on:{click:function(n){return n.stopPropagation(),e.draw(t.type)}}},[t.iconName?n(t.iconName,{tag:"component",attrs:{theme:t.iconTheme||"outline",size:t.iconSize||14,fill:t.iconColor||e.iconColor}}):e._e(),n("span",{domProps:{textContent:e._s(t.text)}})],1)}))]],2)},G=[],H=n("5530"),U=n("db24"),V=Object(H["a"])(Object(H["a"])({},U["c"]),{},{prefix:"icon"}),X={name:"MapDrawingTools",provide:function(){return{ICON_CONFIGS:V}},props:{preview:{type:Boolean,default:function(){return!1}},drawType:{type:Array,default:function(){return[]}},iconColor:{type:String,default:function(){return"#3894ff"}}},components:{Clear:U["a"],Waves:U["i"],MapDraw:U["g"],LocalTwo:U["f"],ClickTap:U["b"],FullScreen:U["d"],MaterialTwo:U["h"],FullScreenPlay:U["e"]},mounted:function(){},methods:{draw:function(e){this.$emit("draw",e)}}},W=X,Y=(n("a6bc"),Object(p["a"])(W,R,G,!1,null,"3df8a182",null)),q=Y.exports,J={name:"CubeMapDraw",props:{config:{type:Object,default:function(){}},drawTypeList:{type:Array,default:function(){return[{text:"标点",iconName:"LocalTwo",iconColor:"#3894ff",type:2},{text:"画面",iconName:"MapDraw",iconColor:"#3894ff",type:3},{text:"画线",iconName:"Waves",iconColor:"#3894ff",type:4},{text:"清除",iconName:"Clear",iconColor:"#F56C6C",type:10}]}},polygons:{type:Array,default:function(){return[]}},polylines:{type:Array,default:function(){return[]}},markers:{type:Array,default:function(){return[]}}},components:{BaiduMap:j["a"],BmControl:j["c"],BmMarker:j["d"],BmPolyline:j["f"],BmPolygon:j["e"],BmBoundary:j["b"],MapDrawingTools:q},directives:{clickOutside:{bind:function(e,t,n){function o(n){if(e.contains(n.target))return!1;t.expression&&t.value(n)}e.__vueClickOutside__=o,document.addEventListener("click",o)},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}}},data:function(){return{map:null,drawingManager:null,visible:!1,contextmenu:{left:0,right:0},defaultConfig:{styleOptions:{strokeColor:"blue",fillColor:"#3689F3",strokeWeight:2,strokeOpacity:1,fillOpacity:.4,strokeStyle:"dashed"},akey:"",mapCenter:"深圳市",initSetViewport:!1}}},watch:{config:{immediate:!0,handler:function(e){Object.assign(this.defaultConfig,e||{})}}},mounted:function(){},methods:{ready:function(e){var t=this,n=e.map,o=e.BMap;this.BMapLib=I(),this.map=n,this.BMap=o,this.$nextTick().then((function(){var e=t.defaultConfig,i=e.styleOptions,a=e.initSetViewport;t.drawingManager=new BMapLib.DrawingManager(n,{isOpen:!1,enableDrawingTool:!1,enableCalculate:!0,drawingToolOptions:{anchor:BMAP_ANCHOR_TOP_RIGHT,offset:new o.Size(5,5)},circleOptions:i,polylineOptions:i,polygonOptions:i,rectangleOptions:i}),t.drawingManager&&t.drawingManager.addEventListener("overlaycomplete",(function(e,n){return t.drawOverlayComplete(n)})),t.$emit("ready",{map:n,BMap:o,BMapLib:t.BMapLib}),setTimeout((function(){var e=[],n=t.$refs.boundary?t.$refs.boundary.paths:[];n.forEach((function(t){t.forEach((function(t){e.push(new o.Point(t.lng,t.lat))}))})),t.boundaryPaths=Object.freeze(e),a&&t.getBetterViewByOverlays()}),2200)}))},getOverLayCenterPoint:function(e){for(var t=0,n=0,o=0;o<e.length;o++)t+=parseFloat(e[o].lng),n+=parseFloat(e[o].lat);return t/=e.length,n/=e.length,{lng:t,lat:n}},draw:function(e){switch(e){case 10:this.markers.splice(0,this.markers.length),this.polygons.splice(0,this.polygons.length),this.polylines.splice(0,this.polylines.length),this.$emit("update:markers",[]),this.$emit("update:polylines",[]),this.$emit("update:polygons",[]),this.$emit("clear"),this.drawingManager&&this.drawingManager.close(),console.log("清除全部");break;case 0:this.drawingManager&&this.drawingManager.close(),this.getBetterViewByOverlays();break;case 1:this.drawType=null,this.drawingManager&&this.drawingManager.close(),this.getBetterViewByOverlays();break;case 2:this.drawingManager.open(),this.drawingManager.setDrawingMode("marker");break;case 3:this.drawingManager.open(),this.drawingManager.setDrawingMode("polygon");break;case 4:this.drawingManager.open(),this.drawingManager.setDrawingMode("polyline");break;case 5:this.drawingManager.open(),this.drawingManager.setDrawingMode("circle");break;case 6:this.drawingManager.open(),this.drawingManager.setDrawingMode("rectangle");break;default:break}},drawOverlayComplete:function(e){if(e.drawingMode){this.map&&this.map.removeOverlay(e.overlay);var t=e.overlay,n=["polygon","polyline","circle","rectangle"];if(n.includes(e.drawingMode)){var o=this.getOverLayCenterPoint(e.overlay.getPath()),i={point:t.getPath(),calculate:e.calculate,editing:!0,centerPoint:o};switch(e.drawingMode){case"polygon":this.polygons&&this.polygons.push(i);break;case"polyline":this.polylines&&this.polylines.push(i);break;case"circle":this.circles&&this.circles.push(i);break;case"rectangle":this.rectangle&&this.rectangle.push(i);break;default:break}}else{var a=t.point,r=a.lat,s=a.lng;this.markers&&this.markers.push({point:{lat:r,lng:s}})}}},click:function(e,t){},handlerContextmenu:function(){},getBetterViewByOverlays:function(){var e,t=[],n=this.markers,o=this.polygons,i=this.polylines,a=Object(h["a"])(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;t.push(new BMap.Point(r.point.lng,r.point.lat))}}catch(g){a.e(g)}finally{a.f()}var s,l=Object(h["a"])(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.point.forEach((function(e){t.push(new BMap.Point(e.lng,e.lat))}))}}catch(g){l.e(g)}finally{l.f()}var p,d=Object(h["a"])(i);try{for(d.s();!(p=d.n()).done;){var u=p.value;u.point.forEach((function(e){t.push(new BMap.Point(e.lng,e.lat))}))}}catch(g){d.e(g)}finally{d.f()}this.map&&this.map.setViewport(t.length?t:this.boundaryPaths)},polygonUpdate:function(e,t,n,o){t.editing&&(t.point=e.target.getPath(),t.calculate=this.BMapLib.GeoUtils?this.BMapLib.GeoUtils.getPolygonArea(e.target):0,t.centerPoint=this.getOverLayCenterPoint(e.target.getPath()))}}},K=J,Q=(n("0620"),Object(p["a"])(K,P,L,!1,null,"30ad3586",null)),Z=Q.exports;Z.install=function(e){e.component(Z.name,Z)};var ee=Z,te=[ee],ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ak;e.prototype._BMapAk=function(){return{ak:n}},te.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&ne(window.Vue);var oe={version:Object({NODE_ENV:"production",BASE_URL:"/"}).npm_package_version,install:ne,CubeMapDraw:ee};o["a"].component("demo-block",T),o["a"].use(oe),o["a"].config.productionTip=!1,new o["a"]({router:_,store:k,render:function(e){return e(u)}}).$mount("#app")},"5e28":function(e,t,n){"use strict";var o=n("c7c1"),i=n.n(o);i.a},"5feb":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".demo-block{border:1px solid #ebebeb;border-radius:3px;transition:.2s}.demo-block.hover{box-shadow:0 0 8px 0 rgba(232,237,250,.6),0 2px 4px 0 rgba(232,237,250,.5)}.demo-block code{font-family:Menlo,Monaco,Consolas,Courier,monospace}.demo-block .demo-button{float:right}.demo-block .source{padding:24px}.demo-block .meta{background-color:#fafafa;border-top:1px solid #eaeefb;overflow:hidden;transition:height .2s}.demo-block .description{padding:20px;box-sizing:border-box;border:1px solid #ebebeb;border-radius:3px;font-size:14px;line-height:22px;color:#666;word-break:break-word;margin:10px;background-color:#fff}.demo-block .description p{margin:0;line-height:26px}.demo-block .description code{color:#5e6d82;background-color:#e6effb;margin:0 4px;display:inline-block;padding:1px 5px;font-size:12px;border-radius:3px;height:18px;line-height:18px}.demo-block .highlight{margin:10px}.demo-block .highlight pre{margin:0}.demo-block .highlight code.hljs{margin:0;border:none;max-height:none;border-radius:0}.demo-block .highlight code.hljs:before{content:none}.demo-block .demo-block-control{border-top:1px solid #eaeefb;height:44px;box-sizing:border-box;background-color:#fff;border-bottom-left-radius:4px;border-bottom-right-radius:4px;text-align:center;margin-top:-1px;color:#d3dce6;cursor:pointer;position:relative}.demo-block .demo-block-control.is-fixed{position:fixed;bottom:0;width:868px}.demo-block .demo-block-control i{font-size:16px;line-height:44px;transition:.3s}.demo-block .demo-block-control i.hovering{transform:translateX(-40px)}.demo-block .demo-block-control>span{position:absolute;transform:translateX(-30px);font-size:14px;line-height:44px;transition:.3s;display:inline-block}.demo-block .demo-block-control:hover{color:#409eff;background-color:#f9fafc}.demo-block .demo-block-control .text-slide-enter,.demo-block .demo-block-control .text-slide-leave-active{opacity:0;transform:translateX(10px)}.demo-block .demo-block-control .control-button{line-height:26px;position:absolute;top:0;right:0;font-size:14px;padding-left:5px;padding-right:25px}",""]),e.exports=t},"8e1f":function(e,t,n){var o=n("0ef8");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("499e").default;i("913e453a",o,!0,{sourceMap:!1,shadowMode:!1})},9928:function(e,t,n){var o=n("bddc");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("499e").default;i("8e6a2592",o,!0,{sourceMap:!1,shadowMode:!1})},a6bc:function(e,t,n){"use strict";var o=n("cd0d"),i=n.n(o);i.a},bddc:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".cube-draw-map[data-v-30ad3586]{min-height:300px}.cube-draw-map[data-v-30ad3586],.cube-draw-map .bm-view[data-v-30ad3586]{width:100%;height:100%}.cube-draw-map .contextmenu[data-v-30ad3586]{margin:0;padding:0;background:#fff;list-style-type:none;border-radius:2px;font-size:12px;font-weight:400;color:#333;z-index:99999999;box-shadow:2px 2px 3px 0 rgba(0,0,0,.3);position:fixed;width:80px;text-align:left}.cube-draw-map .contextmenu li[data-v-30ad3586]{margin:0;padding:7px 16px;cursor:pointer}.cube-draw-map .contextmenu li[data-v-30ad3586]:hover{background:#eee;color:#1d6fff}",""]),e.exports=t},c387:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".map-drawing-tools[data-v-3df8a182]{margin:6px;padding:10px;font-size:12px;color:#3894ff;align-items:center;display:flex;background:#fff;cursor:pointer;box-shadow:0 0 4px rgba(37,47,55,.12)}.map-drawing-tools a[data-v-3df8a182]{padding:0 6px;display:inline-block;text-decoration:none;align-items:center;display:flex}.map-drawing-tools a[data-v-3df8a182]:active{opacity:.78}.map-drawing-tools a span[data-v-3df8a182]{display:inline-block;padding-right:4px}.map-drawing-tools .stop[data-v-3df8a182]{color:#e6a23c}",""]),e.exports=t},c7c1:function(e,t,n){var o=n("5feb");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("499e").default;i("2aaa0724",o,!0,{sourceMap:!1,shadowMode:!1})},cd0d:function(e,t,n){var o=n("c387");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("499e").default;i("4d545800",o,!0,{sourceMap:!1,shadowMode:!1})}});